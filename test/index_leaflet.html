<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
        <style>
            #mapid {
                width: 40%;
                height: 60%;
                margin: 5%;
                position: absolute;
                outline: none;
            }
        </style>
    </head>
    <body>
    <div id="mapid" tabindex="0" class="leaflet-container leaflet-touch leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom">
</body>
</html>
<script>
    

    let geoJSON;

    var mymap = L.map('mapid').setView([40.463667, -3.74922], 2);

    L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    attribution:
        'Map data &copy; <a href="http://..org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>',
    maxZoom: 18,
    }).addTo(mymap);

    fetch("https://silknow.eu/silknow/semap/semap5.min.geojson")
    .then(function (response) {
        if (!response.ok) {
        throw new Error("HTTP error " + response.status);
        }
        return response.json();
    })
    .then((json) => {

        var start = (new Date).getTime();

        geoJSON = json;

        var myLayer = L.geoJSON().addTo(mymap);
        myLayer.addData(geoJSON);

        var geojsonMarkerOptions = {
            radius: 8,
            fillColor: "#ff7800",
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8
        };

        L.geoJSON(geoJSON, {
            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, geojsonMarkerOptions);
            }
        }).addTo(mymap);

        var diff = (new Date).getTime() - start;
        console.log("Tiempo total: " + diff + "ms");
    })
    .catch(function (error) {
        debugger;
        console.log(
        "Hubo un problema con la petición Fetch:" + error.message
        );
    });

    

</script>

<!-- Time: 5 min -->